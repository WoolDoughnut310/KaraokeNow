System.register(["jotai-urql","jotai"],function(l){"use strict";var m,u,f,y,h;return{setters:[function(o){m=o.atomsWithQuery,u=o.clientAtom,f=o.atomsWithMutation,y=o.atomsWithSubscription,l("clientAtom",o.clientAtom)},function(o){h=o.atom}],execute:function(){l({atomWithMutation:p,atomWithQuery:o,atomWithSubscription:b});function o(a,c=e=>e(u)){const e=r=>{const t=a(r);return[t.query,t.variables,{...t.requestPolicy&&{requestPolicy:t.requestPolicy},...t.context}]},[i,s]=m(e,c);return h(r=>{if(a(r).pause)return null;const t=r(s);if(t.error)throw t.error;return"data"in t||r(i),t},(r,t,n)=>{switch(n.type==="reexecute"&&(console.warn("DEPRECATED [atomWithQuery] use refetch instead of reexecute"),n.type="refetch"),"opts"in n&&console.warn("DEPRECATED [atomWithQuery] action.opts is no longer used"),n.type){case"refetch":return t(s,n)}})}function p(a,c=e=>e(u)){const[,e]=f(c);return h(i=>i(e),async(i,s,r)=>{const t=[a(i),r.variables,r.context||{}];return await s(e,t),Promise.resolve(i(e,{unstable_promise:!0})).then(n=>{var W;if((W=r.callback)==null||W.call(r,n),n.error)throw n.error})})}function b(a,c=e=>e(u)){const e=r=>{const t=a(r);return[t.query,t.variables,t.context||{}]},[i,s]=y(e,c);return h(r=>{if(a(r).pause)return null;const t=r(s);if(t.error)throw t.error;return"data"in t||r(i),t},(r,t,n)=>{switch(n.type){case"refetch":return t(s,n)}})}}}});
